import std.io;

public proc void writer(chan<int>.write out) {
  out.write(42);
}

public proc void reader(chan<int>.read in) {
  int value;
  value = in.read();
  println("The value is " + value);
}

public proc void main(string args[]) {
  chan<int> c;
  int a = 2;
  par {
    writer(c.write);
    reader(c.read);
  }
}